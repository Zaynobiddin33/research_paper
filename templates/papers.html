
{% extends "base.html" %}
{%load static%}

{%block style%}
  <!-- Bootstrap & Font -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f9fafb;
      color: #1f2937;
      overflow-x: hidden;
      padding-top: 72px;
    }

    /* Navbar */
    nav {
      background-color: #ffffff;
      box-shadow: 0 1px 6px rgba(0, 0, 0, 0.05);
    }

    .navbar-brand {
      font-weight: 700;
      color: #2563eb !important;
      letter-spacing: -0.3px;
    }

    /* Section title */
    .section-header {
      text-align: center;
      margin-bottom: 2.5rem;
    }

    .section-header h1 {
      font-weight: 700;
      font-size: clamp(2rem, 4vw, 2.6rem);
      color: #111827;
    }

    .section-header p {
      color: #6b7280;
      font-size: 1.05rem;
      max-width: 600px;
      margin: 10px auto 0;
    }

    /* Cards */
    .card {
      border: none;
      border-radius: 16px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.06);
      transition: transform .25s ease;
    }

    .card:hover {
      transform: translateY(-6px);
    }

    .status-badge {
      border-radius: 999px;
      padding: 6px 14px;
      font-size: 0.85rem;
      font-weight: 600;
      color: white;
      display: inline-block;
      margin-bottom: 8px;
    }

    .status-published { background-color: #16a34a; }
    .status-review { background-color: #facc15; color: #1f2937; }
    .status-decline { background-color: #fa153f; color: #f0f0f0; }
    .status-draft { background-color: #9ca3af; }

    footer {
      text-align: center;
      padding: 50px 0 30px;
      background: #111827;
      color: #e5e7eb;
      font-size: .95rem;
      margin-top: 80px;
    }

  </style>
  {%endblock%}

{%block content%}
  <!-- Page Content -->
  <section class="container my-5">
    <div class="section-header">
      <h1>Mening Maqolalarim</h1>
      <p>Barcha maqolalaringiz shu yerda — nashr qilinganlar, tekshiruv jarayonidagilar va qoralamalar.</p>
    </div>
    <div class="row g-4">
      {%for paper in papers%}
      <div class="col-12 col-md-6 col-lg-4 d-flex">
        <div class="card p-4 flex-fill">
          <div class="card-body">
            {%if paper.status == 1 %}
              <span class="status-badge status-draft">Tekshirilmagan</span>
            {%elif paper.status == 2%}
            <span class="status-badge status-review">Tekshiruv jarayonida</span>
            {%elif paper.status == 3%}
            <span class="status-badge status-decline">Rad etilgan</span>
            {%elif paper.status == 4%}
            <span class="status-badge status-published]">Nashr etilgan</span>
            {%endif%}

            <h5 class="card-title mt-2" style="min-height: 50px;">{{paper.title|truncatewords:6}}</h5>
            <p class="text-muted small mb-2">Yuklangan: {{paper.published_at}}</p>
            <p style="min-height: 90px;">{{paper.intro|truncatewords:20}}</p>
            <a href="{%url 'my_paper' paper.id%}" class="text-primary fw-semibold">Batafsil ko'rish →</a>
            {%if paper.status == 1%}
            <a style="width: 100%;" href="#" class="btn btn-sm btn-primary mt-3">Tekshirtirish →</a>
            {%endif%}
          </div>
        </div>
      </div>
      {%endfor%}

      
  </section>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

{%endblock%}